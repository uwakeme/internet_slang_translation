<view class="container">
  <!-- æœç´¢æ¡† -->
  <view class="search-header">
    <view class="search-box">
      <input 
        class="search-input"
        placeholder="æœç´¢é»‘è¯ã€å«ä¹‰æˆ–æ ‡ç­¾"
        value="{{searchKeyword}}"
        bindinput="onInput"
        bindconfirm="onSearch"
        focus="{{true}}"
      />
      <view class="search-actions">
        <button wx:if="{{searchKeyword}}" class="clear-btn" bindtap="clearSearch" size="mini">
          <text class="clear-icon">Ã—</text>
        </button>
        <button class="search-btn" bindtap="onSearch" size="mini">æœç´¢</button>
      </view>
    </view>
  </view>

  <!-- æœç´¢ä¸­çŠ¶æ€ -->
  <view class="searching" wx:if="{{searching}}">
    <text class="searching-text">æœç´¢ä¸­...</text>
  </view>

  <!-- æœç´¢ç»“æœ -->
  <view class="search-results" wx:if="{{!showHistory && !searching}}">
    <view class="results-header" wx:if="{{searchResults.length > 0}}">
      <text class="results-count">æ‰¾åˆ° {{searchResults.length}} ä¸ªç»“æœ</text>
    </view>
    
    <view class="no-results" wx:if="{{searchResults.length === 0}}">
      <text class="no-results-icon">ğŸ”</text>
      <text class="no-results-text">æ²¡æœ‰æ‰¾åˆ°ç›¸å…³å†…å®¹</text>
      <text class="no-results-tip">è¯•è¯•å…¶ä»–å…³é”®è¯æˆ–æ ‡ç­¾</text>
    </view>

    <view class="word-list">
      <view 
        class="word-item" 
        wx:for="{{searchResults}}" 
        wx:key="id"
        bindtap="goToWordDetail"
        data-word="{{item.word}}"
      >
        <view class="word-header">
          <text class="word-title">{{item.word}}</text>
          <text class="word-meaning">{{item.meaning}}</text>
        </view>
        
        <view class="word-tags">
          <text 
            class="tag-item" 
            wx:for="{{item.tags}}" 
            wx:for-item="tag"
            wx:key="*this"
            bindtap="searchByTag"
            data-tag="{{tag}}"
            catchtap="searchByTag"
          >{{tag}}</text>
        </view>
        
        <view class="word-actions">
          <button 
            class="action-btn translate-btn" 
            bindtap="goToTranslate"
            data-word="{{item.word}}"
            catchtap="goToTranslate"
            size="mini"
          >ç¿»è¯‘</button>
        </view>
      </view>
    </view>
  </view>

  <!-- æœç´¢å†å²å’Œçƒ­é—¨æ ‡ç­¾ -->
  <view class="search-home" wx:if="{{showHistory}}">
    <!-- æœç´¢å†å² -->
    <view class="history-section" wx:if="{{searchHistory.length > 0}}">
      <view class="section-header">
        <text class="section-title">æœç´¢å†å²</text>
        <button class="clear-history-btn" bindtap="clearHistory" size="mini">æ¸…ç©º</button>
      </view>
      <view class="history-list">
        <view 
          class="history-item" 
          wx:for="{{searchHistory}}" 
          wx:key="*this"
          bindtap="searchFromHistory"
          data-keyword="{{item}}"
        >
          <text class="history-icon">ğŸ•</text>
          <text class="history-text">{{item}}</text>
        </view>
      </view>
    </view>

    <!-- çƒ­é—¨æ ‡ç­¾ -->
    <view class="tags-section">
      <view class="section-header">
        <text class="section-title">çƒ­é—¨æ ‡ç­¾</text>
      </view>
      <view class="tags-grid">
        <view 
          class="tag-chip" 
          wx:for="{{popularTags}}" 
          wx:key="*this"
          bindtap="searchByTag"
          data-tag="{{item}}"
        >
          <text class="tag-text">{{item}}</text>
        </view>
      </view>
    </view>
  </view>
</view>